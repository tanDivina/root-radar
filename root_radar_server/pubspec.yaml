name: root_radar_server
description: The backend server for Root Radar, your AI gardening assistant.
# version: 1.0.0
# homepage: https://www.example.com

environment:
  sdk: '^3.0.0'

dependencies:
  google_generative_ai: ^0.4.7
  http: ^1.6.0
  serverpod: 3.2.3
  serverpod_auth_idp_server: 3.2.3
  serverpod_auth_server: 3.2.3

dev_dependencies:
  lints: '>=3.0.0 <7.0.0'
  serverpod_test: ^3.2.3
  test: ^1.25.5


serverpod:
  scripts:
    # Starts the server and applies migrations
    start: dart bin/main.dart --apply-migrations

    # Build the Flutter web app and move it to the server's web directory
    # 
    # Unfortunately, we can't use the `-o` flag directly because of an error
    # that happens on windows. Issue is tracked in the flutter
    # repository here: https://github.com/flutter/flutter/issues/157886
    # flutter_build removed to prevent cloud build errors
